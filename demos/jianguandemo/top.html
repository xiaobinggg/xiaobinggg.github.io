<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<link href="css/globalStyle.css" rel="stylesheet" type="text/css" />
<link href="css/thd.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/thd.js"></script>


    <style type="text/css">
H2 {
 PADDING-RIGHT: 0px; PADDING-LEFT: 0px; FONT-WEIGHT: bold; FONT-SIZE: 12px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px
}
.bton {
 BORDER-RIGHT: #66B3FF 1px solid; BORDER-TOP: #66B3FF 1px solid; BACKGROUND: #66B3FF; BORDER-LEFT: #66B3FF 1px solid; BORDER-BOTTOM: #66B3FF 1px solid
}
.cont {
 PADDING-RIGHT: 10px; PADDING-LEFT: 10px; PADDING-BOTTOM: 10px; PADDING-TOP: 10px
}
#main {
 MARGIN: 0px auto; WIDTH: 400px
}
#selectItem {
 BORDER-RIGHT: #000 1px solid; BORDER-TOP: #000 1px solid; MARGIN-TOP: 10px; Z-INDEX: 20000000; BACKGROUND: #fff; OVERFLOW: hidden; BORDER-LEFT: #000 1px solid; WIDTH: 400px; BORDER-BOTTOM: #000 1px solid; POSITION: absolute; TOP: 0px
}
#preview {
 BORDER-RIGHT: #66B3FF 1px solid; BORDER-TOP: #66B3FF 1px solid; MARGIN: 1px; BORDER-LEFT: #66B3FF 1px solid; BORDER-BOTTOM: #66B3FF 1px solid
}
#result {
 BORDER-RIGHT: #66B3FF 1px solid; BORDER-TOP: #66B3FF 1px solid; MARGIN-TOP: 10px; BORDER-LEFT: #66B3FF 1px solid; BORDER-BOTTOM: #66B3FF 1px solid
}
.tit {
 PADDING-LEFT: 10px; MARGIN: 1px; LINE-HEIGHT: 20px; HEIGHT: 20px
}
.bgc_ccc {
 BACKGROUND: #66B3FF
}
.bgc_eee {
 BACKGROUND: #eee
}
.c_999 {
 COLOR: #999
}
.pointer {
 CURSOR: pointer
}
.left {
 FLOAT: left
}
.right {
 FLOAT: right
}
.cls {
 CLEAR: both; FONT-SIZE: 0px; OVERFLOW: hidden; HEIGHT: 0px
}
#bg {
 DISPLAY: none; Z-INDEX: 1; BACKGROUND: #66B3FF; FILTER: alpha(opacity=70); LEFT: 0px; WIDTH: 100%; POSITION: absolute; TOP: 0px; opacity: 0.7
}
.hidden {
 DISPLAY: none
}
.move {
 CURSOR: move
}
<script type="text/javascript">
function test(){
alert("ddd");}
$(document).ready(function(){
	$('.select_handle').selector({seletedResultor:$('.selected_result'),seletedResulId:$('#selected_result_id')});
});
</script>
<script type="text/javascript">


</script>
<style type="text/css">
<!--
.STYLE1 {color: #00CC66}
.STYLE2 {color: #00CC33}
.STYLE3 {color: #FF3399}
.STYLE4 {color: #FF0000}
-->
</style>
</head>

<body>
<div align="center">
	  <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0" width="1000" height="200" align="middle">
        <param name="movie" value="images/main.swf" />
        <param name="quality" value="high" />
        <param name="wmode" value="transparent"  src="images/main.swf" width="1000" height="200" align="middle" quality="high" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash"/>
      </object>
	</div>
	<div style="margin-top:5px; margin-bottom:5px;">
		<table border="0" align="center" cellpadding="0" cellspacing="0" width="1000px">
			<tr>
				<td width="7" height="31px" background="images/lineleft.gif"></td>
				<td width="70" height="31px" background="images/linebg.gif" align="right">机构选择：</td>
				<td width="72" height="31px" background="images/linebg.gif">
				<span class="selected_result" id="makeSureItem">山西银监局</span></td>
				<td width="63" height="31px" background="images/linebg.gif">				 
                <input class="bton pointer" onclick="openBg(1);openSelect(1)" type="button" value="请选择" name="button">			
				</td>
				
				<td width="190" height="31px" background="images/linebg.gif"><a href="#" class="univer_btn">确定</a></td>
				<td width="338" height="31px" background="images/linebg.gif" align="right">&nbsp;</td>
				<td width="100" height="31px" background="images/linebg.gif" align="center">
				<span style="cursor:hand" class="univer_btn"><a href="index.html" target="_top">回首页</a></span></td>
				<td width="7" height="31px" background="images/lineright.gif"></td>
			</tr>
	  </table>
	  
	     
    <div id="bg">
    </div>
	  
	</div>
	  <div class="hidden" id="selectItem">
        <div class="tit bgc_ccc move" onmousedown="drag(event,this)">
            <h2 class="left">
                请选择城银监分局</h2>
            <span class="pointer right" onclick="openBg(0);openSelect(0);">[取消]</span> <span
                class="pointer right" onclick="makeSure();">[确定]</span>
        </div>
        <div class="cls">
        </div>
        <div class="cont">
            <div id="selectSub">
                <select style="margin-bottom: 10px" onchange="showSelect(this.value)" name="">
                    <option value="0" selected>山西银监局</option>
                    <option value="1">太原银监分局</option>
                    <option value="2">大同银监分局</option>
                    <option value="3">阳泉银监分局</option>
					<option value="4">晋城银监分局</option>
					<option value="5">长治银监分局</option>
					<option value="6">晋中银监分局</option>
					<option value="7">朔州银监分局</option>
					<option value="8">吕梁银监分局</option>
					<option value="9">临汾银监分局</option>
					
                </select>
                <div id="c00">
                    <input onclick="addPreItem()" type="checkbox" value="山西银监局" name="ck00">山西银监局
                    
                </div>
                <div id="c01">
					<input onclick="addPreItem()" type="checkbox" value="太原银监分局" name="ck01">太原银监分局
                    <input onclick="addPreItem()" type="checkbox" value="古交县办" name="ck01">古交县办
                    <input onclick="addPreItem()" type="checkbox" value="清徐县县办" name="ck01">清徐县县办
                    <input onclick="addPreItem()" type="checkbox" value="阳曲县县办" name="ck01">阳曲县县办
					<input onclick="addPreItem()" type="checkbox" value="娄烦县县办" name="ck01">娄烦县县办
                </div>
                <div id="c02">
                    <input onclick="addPreItem()" type="checkbox" value="大同银监分局" name="ck01">大同银监分局
                    <input onclick="addPreItem()" type="checkbox" value="阳高县县办" name="ck01">阳高县县办
                    <input onclick="addPreItem()" type="checkbox" value="天镇县县办" name="ck01">天镇县县办
					<input onclick="addPreItem()" type="checkbox" value="广灵县县办" name="ck01">广灵县县办
					<input onclick="addPreItem()" type="checkbox" value="灵丘县县办" name="ck01">灵丘县县办
					<input onclick="addPreItem()" type="checkbox" value="浑源县县办" name="ck01">浑源县县办
					<input onclick="addPreItem()" type="checkbox" value="左云县县办" name="ck01">左云县县办
					<input onclick="addPreItem()" type="checkbox" value="大同县县办" name="ck01">大同县县办

                </div>
                <div id="c03">
                    <input onclick="addPreItem()" type="checkbox" value="阳泉银监分局" name="ck01">阳泉银监分局
                     <input onclick="addPreItem()" type="checkbox" value="平定县县办" name="ck01">平定县县办
					 <input onclick="addPreItem()" type="checkbox" value="盂县县办" name="ck01">盂县县办
                </div>
				 <div id="c04">
                    <input onclick="addPreItem()" type="checkbox" value="晋城银监分局" name="ck01">晋城银监分局
					<input onclick="addPreItem()" type="checkbox" value="高平县办" name="ck01">高平县办
					<input onclick="addPreItem()" type="checkbox" value="阳城县县办" name="ck01">阳城县县办
					<input onclick="addPreItem()" type="checkbox" value="陵川县县办" name="ck01">陵川县县办
				    <input onclick="addPreItem()" type="checkbox" value="沁水县县办" name="ck01">沁水县县办
                </div>
				<div id="c05">
					 <input onclick="addPreItem()" type="checkbox" value="长治银监分局" name="ck01">长治银监分局
				     <input onclick="addPreItem()" type="checkbox" value="潞城县办" name="ck01">潞城县办
					 <input onclick="addPreItem()" type="checkbox" value="长治县县办" name="ck01">长治县县办
 				     <input onclick="addPreItem()" type="checkbox" value="襄垣县县办" name="ck01">襄垣县县办
 				     <input onclick="addPreItem()" type="checkbox" value="屯留县县办" name="ck01">屯留县县办
 				     <input onclick="addPreItem()" type="checkbox" value="平顺县县办" name="ck01">平顺县县办
				     <input onclick="addPreItem()" type="checkbox" value="黎城县县办" name="ck01">黎城县县办
				     <input onclick="addPreItem()" type="checkbox" value="壶关县县办" name="ck01">壶关县县办
 				     <input onclick="addPreItem()" type="checkbox" value="长子县县办" name="ck01">长子县县办
 				     <input onclick="addPreItem()" type="checkbox" value="武乡县县办" name="ck01">武乡县县办

 				     <input onclick="addPreItem()" type="checkbox" value="沁县县办" name="ck01">沁县县办
 				     <input onclick="addPreItem()" type="checkbox" value="沁源县县办" name="ck01">沁源县县办
				</div>
				<div id="c06">
					 <input onclick="addPreItem()" type="checkbox" value="晋中银监分局" name="ck01">晋中银监分局
					 <input onclick="addPreItem()" type="checkbox" value="介休县办" name="ck01">介休县办
					 <input onclick="addPreItem()" type="checkbox" value="太谷县县办" name="ck01">太谷县县办
					 <input onclick="addPreItem()" type="checkbox" value="祁县县办" name="ck01">祁县县办
					 <input onclick="addPreItem()" type="checkbox" value="平遥县县办" name="ck01">平遥县县办
					 <input onclick="addPreItem()" type="checkbox" value="灵石县县办" name="ck01">灵石县县办
					 <input onclick="addPreItem()" type="checkbox" value="寿阳县县办" name="ck01">寿阳县县办
					 <input onclick="addPreItem()" type="checkbox" value="昔阳县县办" name="ck01">昔阳县县办
					 <input onclick="addPreItem()" type="checkbox" value="和顺县县办" name="ck01">和顺县县办
					 <input onclick="addPreItem()" type="checkbox" value="左权县县办" name="ck01">左权县县办
					 <input onclick="addPreItem()" type="checkbox" value="榆社县县办" name="ck01">榆社县县办
				</div>
				<div id="c07">
					<input onclick="addPreItem()" type="checkbox" value="朔州银监分局" name="ck01">朔州银监分局
					<input onclick="addPreItem()" type="checkbox" value="山阴县县办" name="ck01">山阴县县办
 					<input onclick="addPreItem()" type="checkbox" value="应县县办" name="ck01">应县县办
 					<input onclick="addPreItem()" type="checkbox" value="右玉县县办" name="ck01">右玉县县办
 					<input onclick="addPreItem()" type="checkbox" value="怀仁县县办" name="ck01">怀仁县县办
 					<input onclick="addPreItem()" type="checkbox" value="平鲁区" name="ck01">平鲁区
				</div>
				<div id="c08">
					<input onclick="addPreItem()" type="checkbox" value="吕梁银监分局" name="ck01">吕梁银监分局
					 <input onclick="addPreItem()" type="checkbox" value="孝义县办" name="ck01">孝义县办
					 <input onclick="addPreItem()" type="checkbox" value="汾阳银监分局" name="ck01">汾阳银监分局
					 <input onclick="addPreItem()" type="checkbox" value="文水县县办" name="ck01">文水县县办
					 <input onclick="addPreItem()" type="checkbox" value="中阳县县办" name="ck01">中阳县县办
					 <input onclick="addPreItem()" type="checkbox" value="兴县县办" name="ck01">兴县县办"
					 <input onclick="addPreItem()" type="checkbox" value="临县县办" name="ck01">临县县办"
					 <input onclick="addPreItem()" type="checkbox" value="方山县县办" name="ck01">方山县县办
					 <input onclick="addPreItem()" type="checkbox" value="柳林县县办" name="ck01">柳林县县办
					 <input onclick="addPreItem()" type="checkbox" value="岚县县办" name="ck01">岚县县办"
					 <input onclick="addPreItem()" type="checkbox" value="交口县县办" name="ck01">交口县县办
					 <input onclick="addPreItem()" type="checkbox" value="交城县县办" name="ck01">交城县县办
					 <input onclick="addPreItem()" type="checkbox" value="石楼县县办" name="ck01">石楼县县办
				</div>
				<div id="c09">
                    <input onclick="addPreItem()" type="checkbox" value="临汾银监分局" name="ck01">临汾银监分局
                    <input onclick="addPreItem()" type="checkbox" value="侯马县办" name="ck01">侯马县办
                    <input onclick="addPreItem()" type="checkbox" value="霍州银监分局" name="ck01">霍州银监分局
                    <input onclick="addPreItem()" type="checkbox" value="曲沃县县办" name="ck01">曲沃县县办
                    <input onclick="addPreItem()" type="checkbox" value="翼城县县办" name="ck01">翼城县县办
                    <input onclick="addPreItem()" type="checkbox" value="襄汾县县办" name="ck01">襄汾县县办
                    <input onclick="addPreItem()" type="checkbox" value="洪洞县县办" name="ck01">洪洞县县办
                    <input onclick="addPreItem()" type="checkbox" value="古县县办" name="ck01">古县县办
                    <input onclick="addPreItem()" type="checkbox" value="安泽县县办" name="ck01">安泽县县办
                    <input onclick="addPreItem()" type="checkbox" value="浮山县县办" name="ck01">浮山县县办
                    <input onclick="addPreItem()" type="checkbox" value="吉县县办" name="ck01">吉县县办
                    <input onclick="addPreItem()" type="checkbox" value="乡宁县县办" name="ck01">乡宁县县办
                    <input onclick="addPreItem()" type="checkbox" value="蒲县县办" name="ck01">蒲县县办
                    <input onclick="addPreItem()" type="checkbox" value="大宁县县办" name="ck01">大宁县县办
                    <input onclick="addPreItem()" type="checkbox" value="永和县县办" name="ck01">永和县县办
                    <input onclick="addPreItem()" type="checkbox" value="隰县县办" name="ck01">隰县县办
                    <input onclick="addPreItem()" type="checkbox" value="汾西县县办" name="ck01">汾西县县办
				</div>
				
            </div>
        </div>
        <div id="preview">
            <div class="tit bgc_eee c_999">
                <h2>
                    您已选择的城银监分局</h2>
            </div>
            <div class="cont" id="previewItem">
            </div>
        </div>
    </div>
	
	<script type="text/javascript">
/* ------使用说明----- */
/*
 添加城银监分局方法：
     添加组：找到id 是 "selectSub"中select标签下，添加option标签 value属性递增，找到 id 是 "selectSub",按照原有格式添加div,其id属性递增
 添加二级傅选矿选项
  复制 id 是 "selectSub" 下任意input标签，粘贴在需要添加的位置。
*/
var grow = $("selectSub").getElementsByTagName("option").length; //组数
var showGrow = 0;//已打开组
var selectCount = 0; //已选数量 
showSelect(showGrow);
var items = $("selectSub").getElementsByTagName("input");
//alert(maxItem);
var lenMax = 1; 
//alert(1);
function $(o){ //获取对象
 if(typeof(o) == "string")
 return document.getElementById(o);
 return o;
}
function openBg(state){ //遮照打开关闭控制
 if(state == 1)
 {
  $("bg").style.display = "block";
  var h = document.body.offsetHeight > document.documentElement.offsetHeight ? document.body.offsetHeight : document.documentElement.offsetHeight;
 //alert(document.body.offsetHeight);
 //alert(document.documentElement.offsetHeight);
  $("bg").style.height = h + "px";
 }
 else
 {
  $("bg").style.display = "none";
 } 
}
function openSelect(state){ //选择城银监分局层关闭打开控制
 if(state == 1) 
 {
  $("selectItem").style.display = "block";
  $("selectItem").style.left = ($("bg").offsetWidth - $("selectItem").offsetWidth)/2 + "px";
  $("selectItem").style.top = document.body.scrollTop + 50 + "px";  
 }
 else
 {
  $("selectItem").style.display = "none";
 }
}
function showSelect(id){
 for(var i = 0 ; i < grow ;i++)
 {
  $("c0" + i).style.display = "none";
 }
 $("c0" + id).style.display = "block";
 showGrow = id;
}
function open(id,state){ //显示隐藏控制
 if(state == 1)
 $(id).style.display = "block";
 $(id).style.diaplay = "none";
}
function addPreItem(){ 
 $("previewItem").innerHTML = "";
 var len　= 0 ;
 for(var i = 0 ; i < items.length ; i++)
 {
  if(items[i].checked == true)
  {
   len++;
   if(len > lenMax)
   {
        return false;
   }
   var mes = "<input type='checkbox' checked='true' value='"+ items[i].value +"' onclick='copyItem(\"previewItem\",\"previewItem\");same(this);'>" + items[i].value;
   $("previewItem").innerHTML = mes;
   //alert(items[i].value);
  }
 }
}
function makeSure(){
 //alert(1);
 //$("makeSureItem").innerHTML = $("previewItem").innerHTML;
 openBg(0);
 openSelect(0);
 //alert($("previewItem").innerText);
  $("makeSureItem").innerText=$("previewItem").innerText
 //copyItem("previewItem","makeSureItem") 
}
function copyHTML(id1,id2){
 $(id2).innerHTML = $("id1").innerHTML;
}
function copyItem(id1,id2){
 
 var mes = "";
 var items2 = $(id1).getElementsByTagName("input");
 for(var i = 0 ; i < items2.length ; i++)
 {
  if(items2[i].checked == true)
  {
   mes += "<input type='checkbox' checked='true' value='"+ items2[i].value +"' onclick='copyItem(\"" + id2+ "\",\""+ id1 +"\");same(this);'>" + items2[i].value;   
  }
 }
 $(id2).innerHTML = "";
 $(id2).innerHTML += mes;
 //alert($(id2).innerHTML);
}
function same(ck){
 for(var i = 0 ; i < items.length ; i++)
 {
  if(ck.value == items[i].value)
  {
   items[i].checked = ck.checked;
  }
 }
} 
/* 鼠标拖动 */
var oDrag = "";
var ox,oy,nx,ny,dy,dx;
function drag(e,o){
 var e = e ? e : event;
 var mouseD = document.all ? 1 : 0;
 if(e.button == mouseD)
 {
  oDrag = o.parentNode;
  //alert(oDrag.id);
  ox = e.clientX;
  oy = e.clientY;  
 }
}
function dragPro(e){
 if(oDrag != "")
 { 
  var e = e ? e : event;
  //$(oDrag).style.left = $(oDrag).offsetLeft + "px";
  //$(oDrag).style.top = $(oDrag).offsetTop + "px";
  dx = parseInt($(oDrag).style.left);
  dy = parseInt($(oDrag).style.top);
  //dx = $(oDrag).offsetLeft;
  //dy = $(oDrag).offsetTop;
  nx = e.clientX;
  ny = e.clientY;
  $(oDrag).style.left = (dx + ( nx - ox )) + "px";
  $(oDrag).style.top = (dy + ( ny - oy )) + "px";
  ox = nx;
  oy = ny;
 }
}
document.onmouseup = function(){oDrag = "";}
document.onmousemove = function(event){dragPro(event);}
    </script>

	
	
</body>
</html>
